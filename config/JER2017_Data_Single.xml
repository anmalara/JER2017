<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JobConfiguration PUBLIC "" "JobConfig.dtd"[

<!ENTITY NEVT               "-1">

<!ENTITY CACHEABLE          "False">

<!ENTITY OUTdir   "/nfs/dust/cms/user/amalara/sframe_all/JER2017_Data">

<!ENTITY b_closuretest      "true">  <!-- if set to false it runs without residual corrections -->
<!ENTITY jec_version        "Fall17_17Nov2017_V10">
<!ENTITY APPLY_WEIGHTS      "false">

<!ENTITY WEIGHT_PATH        "/nfs/dust/cms/user/multh/JEC/2016ReReco/Residuals/Summer16_03Feb2017_V3/AK4CHS/MC_Reweighted_chsMET_NewTriggerSetup_ForWeights/">
<!ENTITY Cut_PATH           "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/hotjets/">

<!ENTITY APPLY_METoverPTcut "false">  <!--Apply MET Cut-->
<!ENTITY APPLY_EtaPhi_cut   "true">   <!--Apply Eta Phi cleaning during ECAL problems -->
<!ENTITY APPLY_EtaPhi_HCAL  "true">   <!--Apply Eta Phi cleaning during HCAL problems -->
<!ENTITY APPLY_LUMIWEIGHTS  "false">
<!ENTITY APPLY_UNFLATTENING "false">
<!ENTITY TRIGGERS           "central"> <!-- forward, central, full -->
<!ENTITY TRIGGER_CENTRAL    "true">  <!--Trigger Flag -->
<!ENTITY TRIGGER_FWD        "false"> <!--Trigger Flag -->
<!ENTITY PtBinsTrigger      "Single"> <!-- Single, DiJet -->


<!ENTITY DATA_RunB_promptReco_2017 SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/DATA_JetHT_RunB_17Nov2017_wCHSMETfixed.xml">
<!ENTITY DATA_RunC_promptReco_2017 SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/DATA_JetHT_RunC_17Nov2017_wCHSMETfixed.xml">
<!ENTITY DATA_RunD_promptReco_2017 SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/DATA_JetHT_RunD_17Nov2017_wCHSMETfixed.xml">
<!ENTITY DATA_RunE_promptReco_2017 SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/DATA_JetHT_RunE_17Nov2017_wCHSMETfixed.xml">
<!ENTITY DATA_RunF_promptReco_2017 SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/DATA_JetHT_RunF_17Nov2017_wCHSMETfixed.xml">


<!-- <!ENTITY PROOFdir            "/nfs/dust/cms/user/multh/.proof2"> -->

<!-- Directory for hotjet map -->
<!ENTITY Cut_dir            "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/hotjets/">

]>


<!--
<ConfigParse NEventsBreak="0" FileSplit="60" AutoResubmit="5"/>
<ConfigSGE RAM ="4" DISK ="3" Mail="andrea.malara@desy.de" Notification="as" Workdir="workdir_JER2017_Data_Single"/>
-->

<!-- OutputLevel controls which messages are printed; set to VERBOSE or DEBUG for more verbosity, to WARNING or ERROR for less -->
<JobConfiguration JobName="ExampleCycleJob" OutputLevel="INFO">
  <Library Name="libSUHH2JER2017"/>
  <Package Name="SUHH2JER2017.par" />

  <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&OUTdir;/" PostFix="" TargetLumi="8496.0" >

    <!-- DATA -->
    <InputData Type="DATA" Version="DATA_RunB_promptReco_2017" Lumi="1" NEventsMax="&NEVT;" Cacheable="False">                               &DATA_RunB_promptReco_2017;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunC_promptReco_2017" Lumi="1" NEventsMax="&NEVT;" Cacheable="False">                               &DATA_RunC_promptReco_2017;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunD_promptReco_2017" Lumi="1" NEventsMax="&NEVT;" Cacheable="False">                               &DATA_RunD_promptReco_2017;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunE_promptReco_2017" Lumi="1" NEventsMax="&NEVT;" Cacheable="False">                               &DATA_RunE_promptReco_2017;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="DATA" Version="DATA_RunF_promptReco_2017" Lumi="1" NEventsMax="&NEVT;" Cacheable="False">                               &DATA_RunF_promptReco_2017;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>


    <!--
  -->
  <UserConfig>
    <!-- define which collections to read from the input. Only specify what you need to save I/O time -->
    <Item Name="PrimaryVertexCollection" Value="offlineSlimmedPrimaryVertices" />
    <Item Name="ElectronCollection" Value="slimmedElectronsUSER" />
    <Item Name="MuonCollection" Value="slimmedMuonsUSER" />
    <Item Name="TauCollection" Value="slimmedTaus" />
    <Item Name="JetCollection" Value="slimmedJets" />
    <Item Name="METName" Value="slimmedMETs" />
    <Item Name="TopJetCollection" Value="packedPatJetsAk8CHSJets_SoftDropCHS" />
    <Item Name="JetLabel"                Value="AK4CHS"/>
    <Item Name="GenParticleCollection"   Value="GenParticles"/>
    <Item Name="GenJetCollection"        Value="slimmedGenJets"/>
    <Item Name="lumi_file" Value="/nfs/dust/cms/user/amalara/WorkingArea/94X/CMSSW_9_4_1/src/UHH2/common/data/Cert_294927-306462_13TeV_EOY2017ReReco_Collisions17_JSON.root"/>
    <Item Name="lumihists_lumi_per_bin" Value="500."/>

    <Item Name="use_sframe_weight" Value="false"/>


    <!-- Run B  -->
    <Item Name="trigger40" Value="HLT_PFJet40_v*"/>
    <Item Name="trigger60" Value="HLT_PFJet60_v*"/>
    <Item Name="trigger80" Value="HLT_PFJet80_v*"/>
    <Item Name="trigger140" Value="HLT_PFJet140_v*"/>
    <Item Name="trigger200" Value="HLT_PFJet200_v*"/>
    <Item Name="trigger260" Value="HLT_PFJet260_v*"/>
    <Item Name="trigger320" Value="HLT_PFJet320_v*"/>
    <Item Name="trigger400" Value="HLT_PFJet400_v*"/>
    <Item Name="trigger450" Value="HLT_PFJet450_v*"/>
    <Item Name="trigger500" Value="HLT_PFJet500_v*"/>


    <!-- Closure test? -->
    <Item Name="ClosureTest" Value="&b_closuretest;"/>
    <Item Name="JEC_Version" Value="&jec_version;"/>

    <!-- Systematic uncertainties -->
    <Item Name="jersmear_direction" Value="nominal"/> <!--nominal/down/up -->
    <Item Name="jecsmear_direction" Value="nominal"/> <!--nominal/down/up -->

    <Item Name="Apply_Lumiweights"  Value="&APPLY_LUMIWEIGHTS;"/>
    <Item Name="Apply_Unflattening" Value="&APPLY_UNFLATTENING;"/>
    <Item Name="Apply_Weights"      Value="&APPLY_WEIGHTS;"/>
    <Item Name="MC_Weights_Path"    Value="&WEIGHT_PATH;"/>
    <Item Name="METoverPt_cut" Value="&APPLY_METoverPTcut;"/>
    <Item Name="EtaPhi_cut" Value="&APPLY_EtaPhi_cut;"/>
    <Item Name="Cut_dir"  Value="&Cut_PATH;"/>
    <Item Name="EtaPhi_HCAL" Value="&APPLY_EtaPhi_HCAL;"/>

    <Item Name="Triggers"           Value="&TRIGGERS;"/>
    <Item Name="Trigger_Central"    Value="&TRIGGER_CENTRAL;"/>
    <Item Name="Trigger_FWD"        Value="&TRIGGER_FWD;"/>
    <Item Name="PtBinsTrigger"        Value="&PtBinsTrigger;"/>

    <!-- the class name of the AnalysisModule subclasses to run: -->
    <Item Name="AnalysisModule" Value="JER2017Module" />

  </UserConfig>
</Cycle>
</JobConfiguration>
