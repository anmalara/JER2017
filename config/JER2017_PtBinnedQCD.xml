<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE JobConfiguration PUBLIC "" "JobConfig.dtd"[

<!ENTITY NEVT               "-1">

<!ENTITY CACHEABLE          "False">

<!ENTITY OUTdir   "/nfs/dust/cms/user/amalara/sframe_all/JER2017_PtBinnedQCD">

<!ENTITY b_closuretest      "true">  <!-- if set to false it runs without residual corrections -->
<!ENTITY jec_version        "Fall17_17Nov2017_V10">
<!ENTITY APPLY_WEIGHTS      "false">

<!ENTITY WEIGHT_PATH        "/nfs/dust/cms/user/multh/JEC/2016ReReco/Residuals/Summer16_03Feb2017_V3/AK4CHS/MC_Reweighted_chsMET_NewTriggerSetup_ForWeights/">
<!ENTITY Cut_PATH           "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/hotjets/">

<!ENTITY APPLY_METoverPTcut "false">  <!--Apply MET Cut-->
<!ENTITY APPLY_EtaPhi_cut   "true">   <!--Apply Eta Phi cleaning during ECAL problems -->
<!ENTITY APPLY_EtaPhi_HCAL  "true">   <!--Apply Eta Phi cleaning during HCAL problems -->
<!ENTITY APPLY_LUMIWEIGHTS  "false">
<!ENTITY APPLY_UNFLATTENING "false">
<!ENTITY TRIGGERS           "full"> <!-- forward, central, full -->
<!ENTITY TRIGGER_CENTRAL    "true">  <!--Trigger Flag -->
<!ENTITY TRIGGER_FWD        "true"> <!--Trigger Flag -->
<!ENTITY PtBinsTrigger      "DiJet"> <!-- Single, DiJet -->

<!ENTITY QCDPt15to30      SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_15to30_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt30to50      SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_30to50_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt50to80      SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_50to80_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt80to120     SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_80to120_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt120to170    SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_120to170_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt170to300    SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_170to300_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt300to470    SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_300to470_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt470to600    SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_470to600_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt600to800    SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_600to800_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt800to1000   SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_800to1000_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt1000to1400  SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_1000to1400_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt1400to1800  SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_1400to1800_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt1800to2400  SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_1800to2400_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt2400to3200  SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_2400to3200_woHOTVR_woXCONE.xml">
<!ENTITY QCDPt3200toInf   SYSTEM "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/common/datasets/RunII_94X_v1_woHOTVR_woXCONE/MC_QCD_Ptbinned_3200toInf_woHOTVR_woXCONE.xml">

<!-- <!ENTITY PROOFdir            "/nfs/dust/cms/user/multh/.proof2"> -->

<!-- Directory for hotjet map -->
<!ENTITY Cut_dir            "/nfs/dust/cms/user/amalara/WorkingArea/UHH2_94/CMSSW_9_4_1/src/UHH2/hotjets/">

]>


<!--
<ConfigParse NEventsBreak="0" FileSplit="60" AutoResubmit="5"/>
<ConfigSGE RAM ="4" DISK ="3" Mail="andrea.malara@desy.de" Notification="as" Workdir="workdir_JER2017_PtBinnedQCD"/>
-->

<!-- OutputLevel controls which messages are printed; set to VERBOSE or DEBUG for more verbosity, to WARNING or ERROR for less -->
<JobConfiguration JobName="ExampleCycleJob" OutputLevel="INFO">
  <Library Name="libSUHH2JER2017"/>
  <Package Name="SUHH2JER2017.par" />

  <Cycle Name="uhh2::AnalysisModuleRunner" OutputDirectory="&OUTdir;/" PostFix="" TargetLumi="8496.0" >

    <!-- MC -->
    <InputData Type="MC" Version="QCDPt15to30"     Lumi="0.01076363523" NEventsMax="&NEVT;" Cacheable="False">  &QCDPt15to30;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt30to50"     Lumi="0.01076363523" NEventsMax="&NEVT;" Cacheable="False">  &QCDPt30to50;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt50to80"     Lumi="0.9993129143"  NEventsMax="&NEVT;" Cacheable="False">  &QCDPt50to80;      <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt80to120"    Lumi="10.418276"     NEventsMax="&NEVT;" Cacheable="False">  &QCDPt80to120;     <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt120to170"   Lumi="56.97440883"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt120to170;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt170to300"   Lumi="253.4669839"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt170to300;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt300to470"   Lumi="6811.328391"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt300to470;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt470to600"   Lumi="40788.71027"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt470to600;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt600to800"   Lumi="339997.5709"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt600to800;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt800to1000"  Lumi="1165340.848"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt300to470;    <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt1000to1400" Lumi="2075989.722"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt800to1000;   <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt1400to1800" Lumi="6727751.736"   NEventsMax="&NEVT;" Cacheable="False">  &QCDPt1000to1400;  <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt1800to2400" Lumi="25438182.4"    NEventsMax="&NEVT;" Cacheable="False">  &QCDPt1800to2400;  <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt2400to3200" Lumi="279733404"     NEventsMax="&NEVT;" Cacheable="False">  &QCDPt2400to3200;  <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>
    <InputData Type="MC" Version="QCDPt3200toInf"  Lumi="4657487383"    NEventsMax="&NEVT;" Cacheable="False">  &QCDPt3200toInf;   <InputTree Name="AnalysisTree"/> <OutputTree Name="AnalysisTree"/> </InputData>

    <!--
  -->
  <UserConfig>
    <!-- define which collections to read from the input. Only specify what you need to save I/O time -->
    <Item Name="PrimaryVertexCollection" Value="offlineSlimmedPrimaryVertices" />
    <Item Name="ElectronCollection" Value="slimmedElectronsUSER" />
    <Item Name="MuonCollection" Value="slimmedMuonsUSER" />
    <Item Name="TauCollection" Value="slimmedTaus" />
    <Item Name="JetCollection" Value="slimmedJets" />
    <Item Name="METName" Value="slimmedMETs" />
    <Item Name="TopJetCollection" Value="packedPatJetsAk8CHSJets_SoftDropCHS" />

    <!-- <Item Name="additionalBranches" Value="patJetsAK8PFCHS"/> -->

    <!-- AK4CHS -->
    <!-- <Item Name="JetCollection"           Value="slimmedJets"/> -->
    <Item Name="JetLabel"                Value="AK4CHS"/>
    <!-- AK8CHS -->
    <!-- <Item Name="JetCollection"           Value="patJetsAK8PFCHS"/> -->
    <!-- <Item Name="JetLabel"                Value="AK8CHS"/> -->
    <!-- AK4PUPPI -->
    <!--         <Item Name="JetCollection"           Value="slimmedJetsPuppi"/>
    <Item Name="JetLabel"                Value="AK4PUPPI"/> -->
    <!-- AK8PUPPI -->
    <!--         <Item Name="JetCollection"           Value="patJetsAK8PFPUPPI"/>
    <Item Name="JetLabel"                Value="AK8PUPPI"/> -->
    <Item Name="GenParticleCollection"   Value="GenParticles"/>
    <Item Name="GenJetCollection"        Value="slimmedGenJets"/>
    <!--          <Item Name="METName"                 Value="slimmedMETs"/>-->
    <!-- <Item Name="METName"                 Value="slMETsCHS"/> -->
    <Item Name="lumi_file" Value="/nfs/dust/cms/user/amalara/WorkingArea/94X/CMSSW_9_4_1/src/UHH2/common/data/Cert_294927-306462_13TeV_EOY2017ReReco_Collisions17_JSON.root"/>

    <!--
    <Item Name="pileup_directory"           Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/PileUP_MC_pythia8_PUFlat.root"/>
    <Item Name="pileup_directory_data"      Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/PileUP_MC_pythia8_PUFlat.root"/>
    <Item Name="pileup_directory_data_up"   Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/PileUP_MC_pythia8_PUFlat.root"/>
    <Item Name="pileup_directory_data_down" Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/PileUP_MC_pythia8_PUFlat.root"/>
    <Item Name="pileup_directory_data"      Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/800pb/nPU_minBiasXsec71300.root"/>
    <Item Name="pileup_directory_data_up"   Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/800pb/nPU_minBiasXsec80000.root"/>
    <Item Name="pileup_directory_data_down" Value="/afs/desy.de/user/k/karavdia/CMSSW_8_0_20/src/UHH2/BaconJets/data/PileUp/80X/800pb/nPU_minBiasXsec58000.root"/> -->

    <Item Name="lumihists_lumi_per_bin" Value="500."/>


    <Item Name="use_sframe_weight" Value="false"/>

    <!-- <Item Name="trigger40" Value="HLT_DiPFJetAve40_v*"/>
    <Item Name="trigger60" Value="HLT_DiPFJetAve60_v*"/>
    <Item Name="trigger80" Value="HLT_DiPFJetAve80_v*"/>
    <Item Name="trigger140" Value="HLT_DiPFJetAve140_v*"/>
    <Item Name="trigger200" Value="HLT_DiPFJetAve200_v*"/>
    <Item Name="trigger260" Value="HLT_DiPFJetAve260_v*"/>
    <Item Name="trigger320" Value="HLT_DiPFJetAve320_v*"/>
    <Item Name="trigger400" Value="HLT_DiPFJetAve400_v*"/>
    <Item Name="trigger500" Value="HLT_DiPFJetAve500_v*"/>
    <Item Name="trigger60_HFJEC" Value="HLT_DiPFJetAve60_HFJEC_v*"/>
    <Item Name="trigger80_HFJEC" Value="HLT_DiPFJetAve80_HFJEC_v*"/>
    <Item Name="trigger100_HFJEC" Value="HLT_DiPFJetAve100_HFJEC_v*"/>
    <Item Name="trigger160_HFJEC" Value="HLT_DiPFJetAve160_HFJEC_v*"/>
    <Item Name="trigger220_HFJEC" Value="HLT_DiPFJetAve220_HFJEC_v*"/>
    <Item Name="trigger300_HFJEC" Value="HLT_DiPFJetAve300_HFJEC_v*"/> -->



    <!-- Run B (C D E F)  -->
    <!-- <Item Name="trigger40" Value="HLT_PFJet40_v*"/>
    <Item Name="trigger60" Value="HLT_PFJet60_v*"/>
    <Item Name="trigger80" Value="HLT_PFJet80_v*"/>
    <Item Name="trigger140" Value="HLT_PFJet140_v*"/>
    <Item Name="trigger200" Value="HLT_PFJet200_v*"/>
    <Item Name="trigger260" Value="HLT_PFJet260_v*"/>
    <Item Name="trigger320" Value="HLT_PFJet320_v*"/>
    <Item Name="trigger400" Value="HLT_PFJet400_v*"/>
    <Item Name="trigger450" Value="HLT_PFJet450_v*"/>
    <Item Name="trigger500" Value="HLT_PFJet500_v*"/> -->


    <!-- Run C  -->
    <!--
    <Item Name="trigger40_fwd" Value="HLT_PFJetFwd40_v*"/>
    <Item Name="trigger60_fwd" Value="HLT_PFJetFwd60_v*"/>
    <Item Name="trigger80_fwd" Value="HLT_PFJetFwd80_v*"/>
    <Item Name="trigger140_fwd" Value="HLT_PFJetFwd140_v*"/>
    <Item Name="trigger200_fwd" Value="HLT_PFJetFwd200_v*"/>
    <Item Name="trigger260_fwd" Value="HLT_PFJetFwd260_v*"/>
    <Item Name="trigger320_fwd" Value="HLT_PFJetFwd320_v*"/>

    <Item Name="trigger400_fwd" Value="HLT_PFJetFwd400_v*"/>
    <Item Name="trigger450_fwd" Value="HLT_PFJetFwd450_v*"/>
    <Item Name="trigger500_fwd" Value="HLT_PFJetFwd500_v*"/> -->

    <!-- run D E F  -->
    <Item Name="trigger40" Value="HLT_DiPFJetAve40_v*"/>
    <Item Name="trigger60" Value="HLT_DiPFJetAve60_v*"/>
    <Item Name="trigger80" Value="HLT_DiPFJetAve80_v*"/>
    <Item Name="trigger140" Value="HLT_DiPFJetAve140_v*"/>
    <Item Name="trigger200" Value="HLT_DiPFJetAve200_v*"/>
    <Item Name="trigger260" Value="HLT_DiPFJetAve260_v*"/>
    <Item Name="trigger320" Value="HLT_DiPFJetAve320_v*"/>
    <Item Name="trigger400" Value="HLT_DiPFJetAve400_v*"/>
    <Item Name="trigger500" Value="HLT_DiPFJetAve500_v*"/>

    <Item Name="trigger60_HFJEC" Value="HLT_DiPFJetAve60_HFJEC_v*"/>
    <Item Name="trigger80_HFJEC" Value="HLT_DiPFJetAve80_HFJEC_v*"/>
    <Item Name="trigger100_HFJEC" Value="HLT_DiPFJetAve100_HFJEC_v*"/>
    <Item Name="trigger160_HFJEC" Value="HLT_DiPFJetAve160_HFJEC_v*"/>
    <Item Name="trigger220_HFJEC" Value="HLT_DiPFJetAve220_HFJEC_v*"/>
    <Item Name="trigger300_HFJEC" Value="HLT_DiPFJetAve300_HFJEC_v*"/>



    <!-- Closure test? -->
    <Item Name="ClosureTest" Value="&b_closuretest;"/>
    <!--<Item Name="Split_JEC_DATA" Value="&b_splitjec_data;"/>
    <Item Name="Split_JEC_MC" Value="&b_splitjec_mc;"/>-->
    <Item Name="JEC_Version" Value="&jec_version;"/>

    <!-- Systematic uncertainties -->
    <Item Name="jersmear_direction" Value="nominal"/> <!--nominal/down/up -->
    <Item Name="jecsmear_direction" Value="nominal"/> <!--nominal/down/up -->

    <Item Name="Apply_Lumiweights"  Value="&APPLY_LUMIWEIGHTS;"/>
    <Item Name="Apply_Unflattening" Value="&APPLY_UNFLATTENING;"/>
    <Item Name="Apply_Weights"      Value="&APPLY_WEIGHTS;"/>
    <Item Name="MC_Weights_Path"    Value="&WEIGHT_PATH;"/>
    <Item Name="METoverPt_cut" Value="&APPLY_METoverPTcut;"/>
    <Item Name="EtaPhi_cut" Value="&APPLY_EtaPhi_cut;"/>
    <Item Name="Cut_dir"  Value="&Cut_PATH;"/>
    <Item Name="EtaPhi_HCAL" Value="&APPLY_EtaPhi_HCAL;"/>

    <Item Name="Triggers"           Value="&TRIGGERS;"/>
    <Item Name="Trigger_Central"    Value="&TRIGGER_CENTRAL;"/>
    <Item Name="Trigger_FWD"        Value="&TRIGGER_FWD;"/>
    <Item Name="PtBinsTrigger"        Value="&PtBinsTrigger;"/>

    <!-- always apply MET smearing -->

    <!-- tell AnalysisModuleRunner that we use a completely user-defined event format -->
    <!--     <Item Name="userEventFormat" Value="true" /> -->
    <!-- <Item Name="userEventFormat" Value="false" /> -->
    <!-- the class name of the AnalysisModule subclasses to run: -->
    <Item Name="AnalysisModule" Value="JER2017Module" />
    <!--    <Item Name="MCreweight" Value="false" /> -->

  </UserConfig>
</Cycle>
</JobConfiguration>
